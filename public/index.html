<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <title>야근일지</title>
    <!-- Bootstrap CSS -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"
    />
    <style>
      .fixed-btn {
        width: 100px;
        height: 45px;
      }
      .btn-selected {
        background-color: #0d6efd !important;
        color: #fff !important;
        border-color: #0d6efd !important;
      }
    </style>
  </head>
  <body class="bg-light">
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
      <div class="container">
        <a class="navbar-brand fw-bold" href="#">야근일지</a>
        <div class="navbar-nav ms-auto">
          <a class="nav-link" href="/users.html">사용자 관리</a>
        </div>
      </div>
    </nav>

    <div class="container my-4">
      <!-- 야근 기록 입력 카드 -->
      <div class="card mb-4 shadow-sm">
        <div class="card-body">
          <h4 class="card-title">야근 기록 입력</h4>
          <div class="mb-3">
            <label class="form-label fw-bold">사용자 선택</label>
            <div
              id="userButtonsContainer"
              class="btn-group flex-wrap"
              role="group"
            ></div>
          </div>
          <div class="mb-3">
            <label class="form-label fw-bold">석식 여부</label>
            <div
              id="dinnerButtonsContainer"
              class="btn-group flex-wrap"
              role="group"
            ></div>
          </div>
          <div class="mb-3">
            <label class="form-label fw-bold">야근 시작 시간</label>
            <div
              id="startTimeButtonsContainer"
              class="btn-group flex-wrap"
              role="group"
            ></div>
          </div>
          <div class="mb-3">
            <label class="form-label fw-bold">야근 종료 시간</label>
            <div
              id="endTimeButtonsContainer"
              class="btn-group flex-wrap"
              role="group"
            ></div>
          </div>

          <!-- [추가] 석식 여부 선택 영역 -->

          <p class="text-muted">
            * 날짜는 자동으로 오늘 날짜가 기록됩니다.<br />
            * “사용자” → “시작 시간” → “종료 시간” 클릭 시 자동으로 저장<br />
            * **석식 여부(Y/N) 선택 후 기록 가능**
          </p>
        </div>
      </div>

      <!-- 사용자별 기록 조회 카드 -->
      <div class="card mb-4 shadow-sm">
        <div class="card-body">
          <h4 class="card-title">사용자별 기록 조회</h4>
          <div
            id="userFilterButtonsContainer"
            class="btn-group flex-wrap mb-3"
            role="group"
          ></div>
          <div
            id="yearButtonsContainer"
            style="display: none"
            class="mb-2"
          ></div>
          <div
            id="monthButtonsContainer"
            style="display: none"
            class="mb-2"
          ></div>
        </div>
      </div>

      <!-- 기록 목록 및 엑셀 다운로드 카드 -->
      <div class="card shadow-sm">
        <div class="card-body">
          <h4 class="card-title">야근 기록 목록</h4>
          <div class="table-responsive">
            <table
              class="table table-bordered text-center mb-3"
              id="recordsTable"
            >
              <thead class="table-light">
                <tr>
                  <th>사용자</th>
                  <th>날짜</th>
                  <th>시간(총)</th>
                  <!-- [추가] 석식 컬럼 -->
                  <th>석식</th>
                  <th>생성 일시</th>
                </tr>
              </thead>
              <tbody></tbody>
            </table>
          </div>
          <button id="downloadButton" class="btn btn-success">
            엑셀 다운로드
          </button>
        </div>
      </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
    <!-- 클라이언트 Firebase 초기화 (firebase.js) -->
    <script type="module" src="firebase.js"></script>
    <!-- 클라이언트 메인 로직 (main.js) -->
    <script type="module" src="main.js"></script>
  </body>
</html>
